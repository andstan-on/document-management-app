<!doctype html>
<html lang="en" >
<head data-th-replace="~{layout :: head}"></head>
<body>
<nav data-th-replace="~{layout :: navbar}"></nav>

<!-- Display the list of documents -->
<div class="container mt-4">

    <form method="get" action="/document/page/1" id="searchForm" class="form-inline">
        <div class="input-group">
            <input type="text" id="searchInput" name="searchedCriteria" class="form-control" placeholder="Search documents...">
            <div class="input-group-append">
                <button type="submit" class="btn btn-primary">Search</button>
            </div>
        </div>
    </form>

    <h2>List of Documents</h2>
    <table class="table table-striped">
        <thead>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Access File</th>
            <th>Uploader</th>
        </tr>
        </thead>
        <tbody>
        <tr data-th-each="document : ${documentPage.content}">
            <td data-th-text="${document.fileName}"></td>
            <td data-th-text="${document.fileType}"></td>
            <td> <!-- New table cell for the link -->
                <a data-th-href="@{/document/{id}(id=${document.id})}" class="btn btn-primary">View Details</a>
            </td>
            <td data-th-if="${#authentication.getPrincipal().username} == ${document.user.username}"> My document</td>
            <td data-th-if="${#authentication.getPrincipal().username} != ${document.user.username}" data-th-text="${document.user.username}"></td>
        </tr>
        </tbody>
    </table>


    <div data-th-replace="~{layout :: pagination(pageVariable='/document/')}"></div>

</div>

<footer data-th-replace="~{layout :: footer}"></footer>

<script data-th-replace="~{layout :: script}"></script>

</body>

</html>